From 1829cce85481aa0a2e29ea2dc61b7772c8ee2110 Mon Sep 17 00:00:00 2001
From: Ricardo Neri <ricardo.neri-calderon@linux.intel.com>
Date: Thu, 5 Mar 2015 12:40:15 -0800
Subject: [PATCH] debug load image

---
 grub-core/kern/efi/efi.c           | 2 +-
 grub-core/loader/efi/chainloader.c | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/grub-core/kern/efi/efi.c b/grub-core/kern/efi/efi.c
index 02d2f9a..1115e46 100644
--- a/grub-core/kern/efi/efi.c
+++ b/grub-core/kern/efi/efi.c
@@ -359,7 +359,7 @@ grub_efi_print_device_path (grub_efi_device_path_t *dp)
 	  switch (subtype)
 	    {
 	    case GRUB_EFI_END_ENTIRE_DEVICE_PATH_SUBTYPE:
-	      grub_printf ("/EndEntire\n");
+	      grub_printf ("/End3Entire3\n");
 	      //grub_putchar ('\n');
 	      break;
 	    case GRUB_EFI_END_THIS_DEVICE_PATH_SUBTYPE:
diff --git a/grub-core/loader/efi/chainloader.c b/grub-core/loader/efi/chainloader.c
index 3f3e6e3..ff1b641 100644
--- a/grub-core/loader/efi/chainloader.c
+++ b/grub-core/loader/efi/chainloader.c
@@ -255,7 +255,7 @@ grub_cmd_chainloader (grub_command_t cmd __attribute__ ((unused)),
   if (! file_path)
     goto fail;
 
-  grub_printf ("file path: ");
+  grub_printf ("Rfile path: ");
   grub_efi_print_device_path (file_path);
 
   size = grub_file_size (file);
@@ -295,7 +295,7 @@ grub_cmd_chainloader (grub_command_t cmd __attribute__ ((unused)),
       if (status == GRUB_EFI_OUT_OF_RESOURCES)
 	grub_error (GRUB_ERR_OUT_OF_MEMORY, "out of resources");
       else
-	grub_error (GRUB_ERR_BAD_OS, "cannot load image");
+	grub_error (GRUB_ERR_BAD_OS, "cannot load image %d", status);
 
       goto fail;
     }
-- 
1.9.1

